#!/usr/bin/env bash

function os_clean() {
  sudo find / \( -name ".DS_Store" -o -name ".localized" \) -exec rm -f {} \;

  if [ -z "${SSH_AGENT_PID}" ]; then
    kill "${SSH_AGENT_PID}"
  fi

  gpgconf --kill gpg-agent

  if [ `uname -s` == "Darwin" ]; then
    sudo sync && sudo purge
  elif [ `sudo which sysctl | wc -l` -ne 0 ] && [ `sudo sysctl -a 2>/dev/null | grep vm.drop_caches | wc -l` -ne 0 ]; then
    sudo sysctl vm.drop_caches=3
  else
    sudo sync; echo 3 > /proc/sys/vm/drop_caches
  fi
}

function brew_clean_all() {
  brew remove --force `brew list` --ignore-dependencies
  brew cleanup
}
